{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning",
      "Microsoft.EntityFrameworkCore": "Warning"
    }
  },
  "JwtSettings": {
    "SecretKey": "ThisIsAVeryLongSecretKeyForProductionUse123456789!@#$%^&*()",
    "Issuer": "FlightBookingEngine",
    "Audience": "FlightBookingEngine",
    "ExpiryMinutes": 15,
    "RefreshTokenExpiryDays": 7
  },
  "AdminUser": {
    "Email": "admin@flightbooking.com",
    "Password": "Admin123!@#",
    "FirstName": "System",
    "LastName": "Administrator"
  },
  "AppSettings": {
    "BaseUrl": "http://localhost:5000"
  },
  "ConnectionStrings": {
    "DefaultConnection": "Host=localhost;Database=FlightBookingDb_MohammadDarweesh;Username=postgres;Password=6482297",
    "Redis": "localhost:6379",
    "Hangfire": "Host=localhost;Database=flightbookinghangfire_mohammaddarweesh;Username=postgres;Password=6482297"
  },
  "Redis": {
    "ConnectionString": "localhost:6379",
    "Database": 0,
    "KeyPrefix": "flightbooking",
    "DefaultTtl": "00:30:00",
    "ConnectTimeout": "00:00:05",
    "CommandTimeout": "00:00:05",
    "RetryCount": 3,
    "EnableClustering": false,
    "Session": {
      "GuestSessionTimeout": "00:30:00",
      "AuthenticatedSessionTimeout": "02:00:00",
      "SlidingExpiration": true,
      "CookieName": "FlightBooking.SessionId",
      "MaxSessionSize": 1048576
    },
    "RateLimit": {
      "DefaultPermitLimit": 100,
      "DefaultWindow": "00:01:00",
      "SegmentsPerWindow": 8,
      "Policies": {
        "/api/bookings": {
          "PermitLimit": 50,
          "Window": "00:01:00",
          "SegmentsPerWindow": 8
        },
        "/api/flights/search": {
          "PermitLimit": 200,
          "Window": "00:01:00",
          "SegmentsPerWindow": 8
        },
        "/api/seats/availability": {
          "PermitLimit": 300,
          "Window": "00:01:00",
          "SegmentsPerWindow": 8
        },
        "/api/pricing/calculate": {
          "PermitLimit": 150,
          "Window": "00:01:00",
          "SegmentsPerWindow": 8
        }
      }
    },
    "DistributedLock": {
      "DefaultTimeout": "00:00:30",
      "DefaultRetryDelay": "00:00:00.100",
      "MaxRetryAttempts": 10,
      "EnableJitter": true,
      "JitterFactor": 0.2,
      "LockKeyPrefix": "locks"
    },
    "Metrics": {
      "EnableCacheMetrics": true,
      "EnableLockMetrics": true,
      "EnablePerformanceMetrics": true,
      "CollectionInterval": "00:00:30",
      "RetentionPeriod": "7.00:00:00"
    }
  },
  "Hangfire": {
    "ConnectionString": "Host=localhost;Database=flightbookinghangfire_mohammaddarweesh;Username=postgres;Password=6482297",
    "SchemaName": "hangfire",
    "Dashboard": {
      "Enabled": true,
      "Path": "/hangfire",
      "RequireAuthentication": true,
      "RequiredPolicy": "Admin",
      "Title": "Flight Booking Background Jobs",
      "DarkTheme": false
    },
    "Server": {
      "ServerName": "FlightBooking-API",
      "WorkerCount": 5,
      "Queues": [ "critical", "emails", "reports", "analytics", "cleanup", "pricing", "default" ],
      "ShutdownTimeout": "00:00:15",
      "HeartbeatInterval": "00:00:30",
      "ServerCheckInterval": "00:01:00"
    },
    "Retry": {
      "MaxAttempts": 5,
      "BaseDelaySeconds": 30,
      "MaxDelaySeconds": 3600,
      "BackoffMultiplier": 2.0,
      "EnableJitter": true,
      "JitterFactor": 0.1
    },
    "DeadLetterQueue": {
      "Enabled": true,
      "TableName": "job_dead_letter_queue",
      "RetentionPeriod": "30.00:00:00",
      "EnableAutoCleanup": true,
      "CleanupInterval": "1.00:00:00"
    }
  },
  "AllowedHosts": "*",
  "RateLimiting": {
    "PermitLimit": 100,
    "Window": "00:01:00",
    "ReplenishmentPeriod": "00:00:10",
    "TokensPerPeriod": 10,
    "QueueLimit": 10
  },
  "Cache": {
    "EnableCaching": true,
    "EnableETagSupport": true,
    "SearchResultsTtlMinutes": 3,
    "AvailabilityTtlMinutes": 2,
    "PopularRoutesTtlMinutes": 10,
    "SuggestionsTtlMinutes": 30,
    "PricingTtlMinutes": 1,
    "MaxCacheKeyLength": 250
  },
  "Pricing": {
    "EnableDynamicPricing": true,
    "EnablePromotionalDiscounts": true,
    "EnableSeasonalAdjustments": true,
    "EnableWeekendSurcharges": true,
    "EnableDemandBasedPricing": true,
    "EnablePolicyValidation": true,
    "MaxConcurrentCalculations": 100,
    "CalculationTimeout": "00:00:30",
    "DefaultCurrency": "USD",
    "EnablePricingAnalytics": true,
    "EnablePricingEducation": true,
    "WeekendSurcharge": {
      "SurchargePercentage": 15.0,
      "FlatSurcharge": 0.0,
      "HolidayMultiplier": 1.5,
      "PeakSeasonMultiplier": 1.2,
      "RoundTripWeekendMultiplier": 1.1,
      "ApplyToReturnDate": true,
      "ExemptRoutes": [],
      "ExemptFareClasses": []
    },
    "SeasonalMultiplier": {
      "WinterMultiplier": 1.3,
      "SpringMultiplier": 1.15,
      "SummerMultiplier": 1.25,
      "ThanksgivingMultiplier": 1.4,
      "ExemptRoutes": [],
      "ExemptFareClasses": []
    },
    "DemandBased": {
      "MinimumLoadFactorThreshold": 0.6,
      "LoadFactorTiers": [
        {
          "Name": "Standard",
          "MinLoadFactor": 0.60,
          "Multiplier": 1.05,
          "Description": "Standard demand pricing"
        },
        {
          "Name": "Moderate",
          "MinLoadFactor": 0.70,
          "Multiplier": 1.15,
          "Description": "Moderate demand pricing"
        },
        {
          "Name": "High",
          "MinLoadFactor": 0.85,
          "Multiplier": 1.3,
          "Description": "High demand pricing"
        },
        {
          "Name": "Very High",
          "MinLoadFactor": 0.95,
          "Multiplier": 1.5,
          "Description": "Very high demand pricing"
        }
      ]
    },
    "PromotionalDiscount": {
      "Promotions": [
        {
          "Code": "WELCOME10",
          "Name": "Welcome Discount",
          "Description": "10% off for new customers",
          "Type": "Percentage",
          "Value": 10.0,
          "ValidFrom": "2025-01-01T00:00:00Z",
          "ValidTo": "2025-12-31T23:59:59Z",
          "IsActive": true,
          "MinPurchaseAmount": 100.0,
          "IsFirstTimeCustomerOnly": true
        },
        {
          "Code": "SUMMER25",
          "Name": "Summer Sale",
          "Description": "25% off summer travel",
          "Type": "Percentage",
          "Value": 25.0,
          "ValidFrom": "2025-06-01T00:00:00Z",
          "ValidTo": "2025-08-31T23:59:59Z",
          "IsActive": true,
          "ApplicableRoutes": ["JFK-LAX", "NYC-MIA", "SFO-SEA"],
          "MaxDiscount": 200.0
        }
      ]
    },
    "Policies": {
      "AdvancePurchase": {
        "Policies": [
          {
            "MinimumDaysAdvance": 7,
            "MaximumDaysAdvance": 365,
            "ApplicableFareClasses": ["Economy"],
            "ExemptRoutes": [],
            "AllowSameDayBooking": true,
            "SameDayBookingSurcharge": 100.0
          },
          {
            "MinimumDaysAdvance": 0,
            "ApplicableFareClasses": ["Business", "First"],
            "AllowSameDayBooking": true,
            "SameDayBookingSurcharge": 0.0
          }
        ]
      },
      "BlackoutDates": {
        "Policies": [
          {
            "BlackoutPeriods": [
              {
                "StartDate": "2025-12-20T00:00:00Z",
                "EndDate": "2025-12-31T23:59:59Z",
                "Description": "Christmas Holiday Period"
              },
              {
                "StartDate": "2025-11-25T00:00:00Z",
                "EndDate": "2025-11-29T23:59:59Z",
                "Description": "Thanksgiving Week"
              }
            ],
            "Type": "SurchargePeriod",
            "Reason": "Peak holiday travel",
            "AllowOverride": true,
            "OverrideSurcharge": 150.0
          }
        ]
      },
      "RouteRestrictions": {
        "Policies": []
      }
    }
  },
  "CacheSettings": {
    "DefaultTtlMinutes": 30,
    "FlightAvailabilityTtlSeconds": 30,
    "PricingTtlMinutes": 60
  },
  "BackgroundJobs": {
    "EmailProcessingIntervalMinutes": 1,
    "CleanupIntervalHours": 24,
    "PricingUpdateIntervalHours": 6
  },
  "Analytics": {
    "CacheProvider": "Redis",
    "CacheExpirationMinutes": 60,
    "MaxExportRows": 100000,
    "DefaultDateRange": 30,
    "RefreshTimeoutMinutes": 30,
    "EnableHealthChecks": true,
    "DataRetentionYears": 2
  }
}
